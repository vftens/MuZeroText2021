"use strict";
exports.__esModule = true;
exports.useComponentSize = void 0;
var react_1 = require("react");
var getElementSize = function (el) {
    return el
        ? {
            width: el.offsetWidth,
            height: el.offsetHeight
        }
        : {
            width: 0,
            height: 0
        };
};
function useComponentSize(ref) {
    var _a = react_1.useState(getElementSize(ref && ref.current)), componentSize = _a[0], setComponentSize = _a[1];
    var handleResize = react_1.useCallback(function () {
        if (ref.current) {
            setComponentSize(getElementSize(ref.current));
        }
    }, [ref]);
    react_1.useLayoutEffect(function () {
        if (!ref.current) {
            return;
        }
        handleResize();
        var resizeObserver = new ResizeObserver(handleResize);
        resizeObserver.observe(ref.current);
        return function () {
            resizeObserver.disconnect();
        };
    }, [ref, handleResize]);
    return componentSize;
}
exports.useComponentSize = useComponentSize;
